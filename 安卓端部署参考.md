📱 Android (Pydroid) 部署快速指南

将本组件注册系统部署到 Android 手机（Pydroid 3）时，只需按以下 工业化标准步骤 操作，即可获得与桌面完全一致的生产环境。

---

✅ 1. 环境准备

· 安装 Pydroid 3（含 numpy、pyyaml 依赖）
· 如需手动安装依赖：
  ```bash
  pip install numpy pyyaml
  ```

---

📁 2. 项目文件放置

· 在手机存储中创建项目文件夹，例如：
    /storage/emulated/0/industrial_optimizer/
· 将所有 .py 和 .md 文件直接放入该文件夹，不要嵌套多余层级。

---

✂️ 3. 移除桌面硬编码路径（必须）

Android 上不存在 /home/claude，需注释/删除以下 4 个文件 中的对应行：

文件 修改位置
check_registry.py sys.path.insert(0, '/home/claude') → 注释
demo.py sys.path.insert(0, '/home/claude') → 注释
test_components.py sys.path.insert(0, '/home/claude') → 注释
acceptance_tests.py 第37行附近：cwd='/home/claude' → 删除或改为 cwd='.'

---

🗂️ 4. 建立标准组件子目录

```bash
cd /storage/emulated/0/industrial_optimizer
mkdir sources algorithms
mv test_cli.py sources/
mv test_ga.py genetic.py algorithms/
```

✅ 此时目录结构应为：

```
industrial_optimizer/
├── sources/
│   └── test_cli.py
├── algorithms/
│   ├── test_ga.py
│   └── genetic.py
├── registry.py
├── orchestrator.py
...
```

---

🚀 5. 验收测试

务必在项目目录内执行：

```bash
python3 acceptance_tests.py
```

若输出 4/4 tests passed 及 🎉 标志，则系统已就绪。

---

▶️ 6. 运行演示

```bash
python3 demo.py
```

成功输出优化结果即部署完成。

---

⚠️ 常见错误及解决

现象 原因 解决
No module named 'sources' 未建立 sources/ 子目录 执行 mkdir sources 并移入文件
FileNotFoundError: '/home/claude' 硬编码路径未清除 按步骤3修改所有文件
can't open file 'acceptance_tests.py' 未在项目目录下执行 先 cd 到项目文件夹
mkdir: can't create directory 'sources': File exists 目录已存在 忽略，直接 mv 文件

---

🧠 核心原则（工业化思维）

· 零手动维护：绝不编辑 components.yaml，由系统自动同步。
· 一次配置，到处运行：按上述步骤配置后，项目可在任意 Android/Pydroid 设备秒级复用。
· 代码即配置：所有注册、依赖、版本信息均从代码自动生成。

---

📌 一键部署脚本（可选）

将以下内容保存为 android_setup.sh，在 Pydroid 终端执行：

```bash
#!/bin/sh
cd /storage/emulated/0/industrial_optimizer
mkdir -p sources algorithms
mv -f test_cli.py sources/ 2>/dev/null
mv -f test_ga.py genetic.py algorithms/ 2>/dev/null
echo "✓ 目录结构已修复"
python3 acceptance_tests.py
```

---

遵循此指南，5 分钟内即可在 Android 设备上获得完整的工业级组件注册与优化系统。 🚀